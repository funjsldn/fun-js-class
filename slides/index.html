<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Functional Programming In Javascript</title>
  
    <link rel="stylesheet" href="reveal/css/reveal.min.css">
    <link rel="stylesheet" href="reveal/lib/css/github.css">

    <link rel="stylesheet" href="slides-theme/style.css">
    <link rel="stylesheet" href="slides-theme/talk-specific.css">

    <link rel="stylesheet" href="diagrams.css">

    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="reveal">
<div class="slides">

<section data-markdown class=front><script type="text/template">
# Functional Programming

Grab code: <br> [github.com/funjsldn/fun-js-class](https://github.com/funjsldn/fun-js-class)

<div class=spaced>

[@timruffles](http://twitter.com/timruffles)
[@mattfieldy](http://twitter.com/mattfieldy)

</script></section>

<section data-markdown ><script type="text/template">
# Hello

- [github.com/funjsldn/fun-js-class](https://github.com/funjsldn/fun-js-class)
- Code + slides up above - clone if you've got `git`, or grab the `.zip`.
- `slides`
- `exercises`

</script></section>

<section data-markdown ><script type="text/template">
# What is FP?
</script></section>

<section data-markdown><script type="text/template">
## Programming with functions
</script></section>

<section data-markdown><script type="text/template">
## You can leave now
</script></section>

<section data-markdown><script type="text/template">
## But actually...

- polymorphism
- abstraction
- API design
- ... not obvious how to do with just functions
</script></section>

<section data-markdown><script type="text/template">
## Languages

- Lambda calculus
- Haskell, OCaml, F#
- Erlang
- Lisp, Scheme, Clojure
- Prolog
</script></section>

<section data-markdown><script type="text/template">
## Ideas

- Immutability
- Monads, functors (!?!?!?!)
- Laziness
- Referential transparency
</script></section>

<section data-markdown><script type="text/template">
## Let's KISS
</script></section>

<section data-markdown><script type="text/template">
## What are the defining features of FP?
</script></section>

<section data-markdown><script type="text/template">
## Warning: our thinking

- like pornography: "you know it when you see it"?
</script></section>

<section data-markdown><script type="text/template">
## Three is a magic number

- always be suspcious of lists of three things
</script></section>

<section data-markdown><script type="text/template">
## Functional programmers have issues

</script></section>
<section data-markdown><script type="text/template">
## They're snobs
![snobs](img/snobs.png)
</script></section>
<section data-markdown><script type="text/template">
## They're scared of change
![change](img/change.png)
</script></section>
<section data-markdown><script type="text/template">
## They have split personalities
![split](img/split.png)
</script></section>

<section data-markdown><script type="text/template">
## Three things:

1. first class functions
1. scared of change(able variables)
1. split 'launch rocket' from 'compute answer'
</script></section>

<section data-markdown><script type="text/template">
## 1. First class functions
</script></section>

<section data-markdown><script type="text/template">
## First-class-functions

- First class: use wherever you can use other values

```javascript
function doTwice(fn) {
  fn() // fn has been passed in as an argument
  fn()
}

doTwice(function() {
  console.log("Hello!")
})

function doubleFn(fn) {
  return function() { // with FCFs we can return functions
    doTwice(fn)
  }
}

var doubleTalk = doubleFn(function() {
  console.log("I'm going to be saying this twice")
})

doubleTalk()
```
</script></section>

<section data-markdown><script type="text/template">
## Higher order functions

- jargon no. 2
- we can pass functions to functions to functions...

```javascript
function loop(fn) {
  fn()
  loop(fn)
}

loop(function() {
  console.log("We'll be here for some time")
})
```

</script></section>

<section data-markdown><script type="text/template">
## A good indicator for FP code

- can't do much in FP without FCFs

</script></section>

<section data-markdown><script type="text/template">
## 2. Fear of change(able variables)
</script></section>

<section data-markdown><script type="text/template">
- below code is in a loop
- yes this is an extreme example

```javascript
    // Insanity Warning: scope depth-first traversal
    // yes, this code is a bit crazy, but it works and we have tests to prove it!
    // this piece should be kept in sync with the traversal in $broadcast
    if (!(next = (current.$$childHead || (current !== target && current.$$nextSibling)))) {
      while(current !== target && !(next = current.$$nextSibling)) {
        current = current.$parent;
      }
    }
  } while ((current = next));

  if(dirty && !(ttl--)) {
    clearPhase();
    throw $rootScopeMinErr('infdig',
        '{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}',
        TTL, toJson(watchLog));
  }
} while (dirty || asyncQueue.length);
```
</script></section>

<section data-markdown><script type="text/template">
## See change, hide it

- change is tricky, abstract it

```javascript
var numbers = [1,50,25,12,33,50]
var squares = []
for(var i = 0, len = numbers.length; i < len; i++)
  squares[i] = numbers[i] * numbers[i]
```

```javascript
var quickSquares = numbers.map(square)
function square(x) { return x * x }
```
</script></section>

<section data-markdown><script type="text/template">
## Bigger picture

- lack of shared changable values = safe parallism
- e.g map reduce: map breaks work into parallisable work
- simplicity more relevent than parallelism to JS

</script></section>


<section data-markdown ><script type="text/template">

## 3. Split 'launch rocket' from 'computer answer' 

</script></section>

<section data-markdown ><script type="text/template">

```javascript
$(".showFollowerStats",function() {
  Followers.fetch(user,{
    success: function() {
      var ids = []; 
      for(var i = 0, len = followers.length; i < len; i++)
        ids.push(followers.id)
      display(ids)
    }
  })
})
```

</script></section>

<section data-markdown ><script type="text/template">

```javascript
$(".showFollowerStats",function() {
  Followers.fetch(user,{
    success: withFollowers
  })
})
// easy to test/reason about
function withFollowers(followers) {
  var ids = []; 
  for(var i = 0, len = followers.length; i < len; i++)
    ids.push(followers.id)
}
function display() {}
```

</script></section>

<section data-markdown><script type="text/template">
## Personality disorders

1. snobbish about their functions
1. scared of change
1. split personalities

</script></section>


<section data-markdown><script type="text/template">
## Three things:

1. first class functions
1. scared of change(able variables)
1. divide 'launch rocket' from 'compute answer'

</script></section>



<section data-markdown ><script type="text/template">

# Any other questions?


## @timruffles, @mattfieldy

</script></section>


</div>
</div>

<script src="js/d3.js"></script>
<script src="js/diagrams.js"></script>

<!-- reveal -->
<script src="reveal/lib/js/head.min.js"></script>
<script src="reveal/js/reveal.min.js"></script>
<script>
  Reveal.initialize({

    // Display controls in the bottom right corner
    controls: false,

    // Display a presentation progress bar
    progress: true,

    // Push each slide change to the browser history
    history: true,

    // Enable keyboard shortcuts for navigation
    keyboard: true,

    // Enable the slide overview mode
    overview: true,

    // Vertical centering of slides
    center: false,

    // Loop the presentation
    loop: false,

    // Change the presentation direction to be RTL
    rtl: false,

    // Number of milliseconds between automatically proceeding to the
    // next slide, disabled when set to 0, this value can be overwritten
    // by using a data-autoslide attribute on your slides
    autoSlide: 0,

    // Enable slide navigation via mouse wheel
    mouseWheel: false,

    // Apply a 3D roll to links on hover
    rollingLinks: false,

    // Transition style
    transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

    dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },

        // Interreveal/pret Markdown in <section> elements
         { src: 'reveal/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'reveal/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },

        // Syntareveal/x highlight for <code> elements
        { src: 'reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom reveal/in and out with Alt+click
        { src: 'reveal/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speakreveal/er notes
        { src: 'reveal/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remotreveal/e control your reveal.js presentation using a touch device
        // { src: 'reveal/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]

  });
</script>
</body>

